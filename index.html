<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Modern Snake | SnowMan YT</title>

<style>
body{
  margin:0;
  background:radial-gradient(circle,#0a0f1f,#000);
  font-family:system-ui,monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.game{
  background:#0b1220;
  border-radius:18px;
  padding:18px;
  box-shadow:0 0 40px rgba(0,255,255,.4);
  width:320px;
}
.header{
  display:flex;
  justify-content:space-between;
  color:#00eaff;
  font-weight:bold;
  margin-bottom:8px;
}
canvas{
  background:#020617;
  border-radius:14px;
  display:block;
  margin:auto;
  border:2px solid #00eaff;
}
.controls{
  display:grid;
  grid-template-columns:70px 70px 70px;
  gap:8px;
  justify-content:center;
  margin-top:12px;
}
.controls button{
  background:#00eaff;
  border:none;
  border-radius:10px;
  font-size:20px;
  padding:12px;
}
.controls button:active{transform:scale(.92);}
.credit{
  text-align:center;
  margin-top:10px;
  font-size:12px;
  color:#88ffff;
}
</style>
</head>

<body>

<div class="game">
  <div class="header">
    <div>Score: <span id="score">0</span></div>
    <div>üêç</div>
  </div>

  <canvas id="game" width="280" height="280"></canvas>

  <div class="controls">
    <div></div>
    <button onclick="setDir(0,-1)">‚¨Ü</button>
    <div></div>
    <button onclick="setDir(-1,0)">‚¨Ö</button>
    <button onclick="restart()">‚ü≥</button>
    <button onclick="setDir(1,0)">‚û°</button>
    <div></div>
    <button onclick="setDir(0,1)">‚¨á</button>
    <div></div>
  </div>

  <div class="credit">Game developed by @SnowMan YT</div>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

const TILE=20, SIZE=14;
const SPEED=6;

let snake,food,dir,nextDir,score;
let last=0,acc=0;

const scoreEl=document.getElementById("score");

// Sound
const audio=new AudioContext();
function beep(f,d){
  const o=audio.createOscillator(),g=audio.createGain();
  o.frequency.value=f;
  o.connect(g); g.connect(audio.destination);
  o.start();
  g.gain.exponentialRampToValueAtTime(0.001,audio.currentTime+d);
  o.stop(audio.currentTime+d);
}

function reset(){
  snake=[{x:10,y:10},{x:9,y:10},{x:8,y:10}];
  dir={x:1,y:0};
  nextDir={x:1,y:0};
  food=spawn();
  score=0;
  scoreEl.textContent=0;
}
function spawn(){
  return {
    x:Math.floor(Math.random()*TILE),
    y:Math.floor(Math.random()*TILE)
  };
}

function setDir(x,y){
  if(dir.x+x===0 && dir.y+y===0) return;
  nextDir={x,y};
  beep(600,.02);
}

document.addEventListener("keydown",e=>{
  if(e.key==="ArrowUp")setDir(0,-1);
  if(e.key==="ArrowDown")setDir(0,1);
  if(e.key==="ArrowLeft")setDir(-1,0);
  if(e.key==="ArrowRight")setDir(1,0);
});

function update(){
  dir=nextDir;
  const head={
    x:snake[0].x+dir.x,
    y:snake[0].y+dir.y
  };

  if(
    head.x<0||head.y<0||
    head.x>=TILE||head.y>=TILE||
    snake.some(s=>s.x===head.x&&s.y===head.y)
  ){
    beep(120,.4);
    alert("Game Over! Score: "+score);
    reset();
    return;
  }

  snake.unshift(head);

  if(head.x===food.x&&head.y===food.y){
    score++;
    scoreEl.textContent=score;
    food=spawn();
    beep(900,.08);
  }else{
    snake.pop();
  }
}

function draw(alpha){
  ctx.fillStyle="#020617";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  // food
  ctx.fillStyle="#ff2d55";
  ctx.shadowBlur=12;
  ctx.shadowColor="#ff2d55";
  ctx.fillRect(food.x*SIZE,food.y*SIZE,SIZE,SIZE);

  // snake smooth
  ctx.shadowBlur=12;
  ctx.shadowColor="#00eaff";
  ctx.fillStyle="#00eaff";

  snake.forEach((p,i)=>{
    let x=p.x,y=p.y;
    if(i===0){
      x-=dir.x*(1-alpha);
      y-=dir.y*(1-alpha);
    }
    ctx.fillRect(x*SIZE,y*SIZE,SIZE,SIZE);
  });
  ctx.shadowBlur=0;
}

function loop(ts){
  if(!last) last=ts;
  const dt=(ts-last)/1000;
  last=ts;
  acc+=dt;

  while(acc>1/SPEED){
    update();
    acc-=1/SPEED;
  }

  draw(acc*SPEED);
  requestAnimationFrame(loop);
}

reset();
requestAnimationFrame(loop);
</script>

</body>
</html>

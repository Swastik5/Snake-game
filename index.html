<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nokia Snake Game | SnowMan YT</title>

<style>
body{
  margin:0;
  background:#000;
  font-family:monospace;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.game-box{
  background:#9bbc0f;
  padding:15px;
  border-radius:12px;
  box-shadow:0 0 20px #0f0;
  width:280px;
}
canvas{
  background:#8bac0f;
  border:4px solid #0f380f;
  display:block;
  margin:auto;
}
.score{
  text-align:center;
  color:#0f380f;
  margin-bottom:6px;
  font-weight:bold;
}
.credit{
  text-align:center;
  font-size:11px;
  color:#0f380f;
  margin-top:6px;
  font-weight:bold;
}
.controls{
  display:grid;
  grid-template-columns:60px 60px 60px;
  gap:6px;
  justify-content:center;
  margin-top:10px;
}
.controls button{
  background:#0f380f;
  color:#9bbc0f;
  border:none;
  border-radius:6px;
  font-size:18px;
  padding:10px;
  cursor:pointer;
}
.controls button:active{
  transform:scale(0.95);
}
</style>
</head>

<body>

<div class="game-box">
  <div class="score">Score: <span id="score">0</span></div>

  <canvas id="game" width="240" height="240"></canvas>

  <!-- Mobile Controls -->
  <div class="controls">
    <div></div>
    <button onclick="setDir(0,-1)">▲</button>
    <div></div>
    <button onclick="setDir(-1,0)">◀</button>
    <button onclick="restart()">⟳</button>
    <button onclick="setDir(1,0)">▶</button>
    <div></div>
    <button onclick="setDir(0,1)">▼</button>
    <div></div>
  </div>

  <!-- CREDIT -->
  <div class="credit">
    Game developed by @SnowMan YT
  </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const grid = 12;
const tiles = 20;

let snake, food, dx, dy, score, loop;

function init(){
  snake = [{x:10,y:10}];
  dx = 1; dy = 0;
  food = spawnFood();
  score = 0;
  document.getElementById("score").textContent = score;
}

function spawnFood(){
  return {
    x: Math.floor(Math.random()*tiles),
    y: Math.floor(Math.random()*tiles)
  };
}

function setDir(x,y){
  if(dx + x === 0 && dy + y === 0) return;
  dx = x; dy = y;
}

document.addEventListener("keydown", e=>{
  if(e.key==="ArrowUp") setDir(0,-1);
  if(e.key==="ArrowDown") setDir(0,1);
  if(e.key==="ArrowLeft") setDir(-1,0);
  if(e.key==="ArrowRight") setDir(1,0);
});

function update(){
  const head = {
    x: snake[0].x + dx,
    y: snake[0].y + dy
  };

  if(
    head.x < 0 || head.y < 0 ||
    head.x >= tiles || head.y >= tiles ||
    snake.some(s => s.x === head.x && s.y === head.y)
  ){
    alert("Game Over! Score: " + score);
    restart();
    return;
  }

  snake.unshift(head);

  if(head.x === food.x && head.y === food.y){
    score++;
    document.getElementById("score").textContent = score;
    food = spawnFood();
  }else{
    snake.pop();
  }

  draw();
}

function draw(){
  ctx.fillStyle="#8bac0f";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.fillStyle="#306230";
  snake.forEach(p=>{
    ctx.fillRect(p.x*grid,p.y*grid,grid,grid);
  });

  ctx.fillStyle="#0f380f";
  ctx.fillRect(food.x*grid,food.y*grid,grid,grid);
}

function restart(){
  clearInterval(loop);
  init();
  loop = setInterval(update,120);
}

init();
loop = setInterval(update,120);
</script>

</body>
</html>
